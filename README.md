# CQOx - Causal Quantification Observatory Extended

**ä¸–ç•Œæœ€é«˜å³°ã®å› æžœæŽ¨è«–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![Wolfram Language](https://img.shields.io/badge/Wolfram-14.3-red.svg)](https://www.wolfram.com/)

---

## ðŸŽ¯ æ¦‚è¦

CQOxã¯ã€å› æžœæŽ¨è«–ã®æœ€å…ˆç«¯æ‰‹æ³•ã‚’çµ±åˆã—ãŸã€ä¸–ç•Œæœ€é«˜æ°´æº–ã®ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºç´šãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ç ”ç©¶è€…ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆãƒ»æ”¿ç­–ç«‹æ¡ˆè€…ãŒã€è¤‡é›‘ãªå› æžœé–¢ä¿‚ã‚’åŽ³å¯†ã«åˆ†æžã—ã€actionableãªæ´žå¯Ÿã‚’å¾—ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

### ãªãœCQOxã‹ï¼Ÿ

- âœ… **20ç¨®é¡žã®æŽ¨å®šå™¨ã‚’å®Œå…¨å®Ÿè£…** - ãƒ¢ãƒƒã‚¯ãªã—ã€å…¨ã¦æ–‡çŒ®ã«åŸºã¥ã„ãŸåŽ³å¯†ãªå®Ÿè£…
- âœ… **è‡ªå‹•ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œå‡º** - æ•™è‚²ãƒ»åŒ»ç™‚ãƒ»æ”¿ç­–ãƒ»é‡‘èžãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç­‰ã€éšŽå±¤çš„ãƒ‰ãƒ¡ã‚¤ãƒ³æ§‹é€ 
- âœ… **3D/ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–** - WolframONEã«ã‚ˆã‚‹ä¸–ç•Œæœ€é«˜å³°ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«
- âœ… **ä¸–ç•Œã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ãƒ•ãƒ©** - Istio Service Meshã€Chaos Engineeringã€mTLS
- âœ… **åŒ…æ‹¬çš„ãªè¦³æ¸¬å¯èƒ½æ€§** - Grafana 37ãƒ‘ãƒãƒ« + Lokiçµ±åˆ

---

## ðŸš€ ä¸»è¦æ©Ÿèƒ½

### 1. å› æžœæŽ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆ20æŽ¨å®šå™¨ï¼‰

#### åŸºæœ¬æŽ¨å®šå™¨
- **Double/Debiased ML (DML)** - Partially Linear Regression (PLR)ã€Interactive Regression Model (IRM)
- **Propensity Score Matching** - æœ€è¿‘å‚ã€ã‚«ãƒªãƒ‘ãƒ¼ã€ã‚«ãƒ¼ãƒãƒ«ãƒžãƒƒãƒãƒ³ã‚°
- **Inverse Probability Weighting (IPW)** - å®‰å®šåŒ–ã‚¦ã‚§ã‚¤ãƒˆã€ãƒˆãƒªãƒŸãƒ³ã‚°

#### é«˜åº¦ãªæŽ¨å®šå™¨
- **æ„Ÿåº¦åˆ†æž** - Rosenbaumå¢ƒç•Œã€Osterã®Î´æ³•ã€Eå€¤ã€Manskiå¢ƒç•Œ
- **æ“ä½œå¤‰æ•°æ³•ï¼ˆIVï¼‰** - 2SLSã€GMMã€DML-IVã€å¼±ã„æ“ä½œå¤‰æ•°è¨ºæ–­
- **åˆæˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«æ³•** - Abadie et al.æ‰‹æ³•ã€ãƒ—ãƒ©ã‚»ãƒœãƒ†ã‚¹ãƒˆ
- **å› æžœãƒ•ã‚©ãƒ¬ã‚¹ãƒˆ** - Athey & Imbensã€æ­£ç›´ãªåˆ†å‰²ã€CATEæŽ¨å®š
- **å›žå¸°ä¸é€£ç¶šãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆRDï¼‰** - Sharp/Fuzzy RDã€IKãƒãƒ³ãƒ‰å¹…é¸æŠž
- **å·®åˆ†ã®å·®åˆ†æ³•ï¼ˆDiDï¼‰** - TWFEã€Callaway-Sant'Annaã€ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ã‚¿ãƒ‡ã‚£

#### å°‚é–€æŽ¨å®šå™¨
- **ç§»è»¢å¯èƒ½æ€§** - IPSWã€ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆè©¦é¨“é›†å›£â†’å®Ÿä¸–ç•Œï¼‰
- **è¿‘æŽ¥å› æžœæŽ¨è«–** - ãƒ–ãƒªãƒƒã‚¸é–¢æ•°ã€æœªæ¸¬å®šäº¤çµ¡ã®ãƒ—ãƒ­ã‚­ã‚·å¤‰æ•°
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŠ¹æžœ** - Horvitz-Thompsonã€Linear-in-Meansã€ã‚¹ãƒ”ãƒ«ã‚ªãƒ¼ãƒãƒ¼
- **åœ°ç†ç©ºé–“å› æžœæŽ¨è«–** - ç©ºé–“ãƒžãƒƒãƒãƒ³ã‚°ã€tigramiteçµ±åˆ

### 2. ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆè‡ªå‹•åŒ–

#### è‡ªå‹•åˆ—é¸æŠž
```python
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ—ã‚’æŒ‡å®šã—ãªãã¦ã‚‚ã€è‡ªå‹•æ¤œå‡º
auto_mapping = {
    'y': 'test_score',          # ä¿¡é ¼åº¦: 0.89
    'treatment': 'tutoring',     # ä¿¡é ¼åº¦: 0.92
    'unit_id': 'student_id',     # ä¿¡é ¼åº¦: 0.95
    'covariates': ['age', 'gender', 'prior_gpa']
}
```

#### ãƒ‰ãƒ¡ã‚¤ãƒ³éšŽå±¤æ¤œå‡º
```
causal_inference (Root)
â”œâ”€â”€ human_behavior (æŠ½è±¡)
â”‚   â”œâ”€â”€ education (å…·ä½“)
â”‚   â”œâ”€â”€ medical
â”‚   â””â”€â”€ policy
â”œâ”€â”€ economic_transaction
â”‚   â”œâ”€â”€ retail
â”‚   â””â”€â”€ finance
â””â”€â”€ network_diffusion
    â””â”€â”€ network
```

#### æŽ¨å®šå™¨æ¤œè¨¼
```python
validator = EstimatorValidator(df, mapping)
results = validator.validate_all()
# è‡ªå‹•åˆ¤å®š: 7/7æŽ¨å®šå™¨ãŒå®Ÿè¡Œå¯èƒ½
# - DML PLR/IRM âœ“
# - IV 2SLS âœ“ï¼ˆæ“ä½œå¤‰æ•°æ¤œå‡ºï¼‰
# - Sensitivity Analysis âœ“
```

### 3. ä¸–ç•Œã‚¯ãƒ©ã‚¹ã®å¯è¦–åŒ–ï¼ˆWolframONEï¼‰

#### 3D/ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–
- **3Då› æžœDAG** - å›žè»¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒŽãƒ¼ãƒ‰é‡è¦åº¦ã‚«ãƒ©ãƒ¼ãƒžãƒƒãƒ—
- **æ™‚å¤‰å‡¦ç½®åŠ¹æžœ** - ä¿¡é ¼åŒºé–“å¸¯ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- **CATEç•°è³ªæ€§ã‚µãƒ¼ãƒ•ã‚§ã‚¹** - 3Dãƒ’ãƒ¼ãƒˆãƒžãƒƒãƒ—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å›žè»¢
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ‹¡æ•£** - 3Dã‚°ãƒ©ãƒ•ãƒ€ã‚¤ãƒŠãƒŸã‚¯ã‚¹
- **æ„Ÿåº¦åˆ†æž3Dç­‰é«˜ç·š** - Rosenbaumå¢ƒç•Œã®ç«‹ä½“å¯è¦–åŒ–
- **å‚¾å‘ã‚¹ã‚³ã‚¢3Dãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ** - å‡¦ç½®ç¾¤/å¯¾ç…§ç¾¤ã®é‡ãªã‚Š

#### 42ç¨®é¡žã®æ¨™æº–å›³è¡¨
1-14: åŸºæœ¬çµ±è¨ˆå›³ï¼ˆåˆ†å¸ƒã€ç›¸é–¢ã€ãƒãƒ©ãƒ³ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ç­‰ï¼‰
15-28: ãƒ‰ãƒ¡ã‚¤ãƒ³éžä¾å­˜ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ï¼ˆæ•£å¸ƒå›³ã€boxplotã€æ™‚ç³»åˆ—ç­‰ï¼‰
29-40: ãƒ‰ãƒ¡ã‚¤ãƒ³å›ºæœ‰å›³ï¼ˆæ•™è‚²: å­¦å¹´åˆ¥åŠ¹æžœã€åŒ»ç™‚: ç”Ÿå­˜æ›²ç·šç­‰ï¼‰
41-42: é«˜åº¦ãªå›³ï¼ˆEå€¤æ„Ÿåº¦ã€CATEåˆ†å¸ƒï¼‰

### 4. ãƒ•ã‚§ãƒ¼ã‚º1.6-1.8: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¤ãƒ³ãƒ•ãƒ©

#### Phase 1.6: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **TLS/mTLS** - è‡ªå·±ç½²åè¨¼æ˜Žæ›¸ï¼ˆé–‹ç™ºï¼‰ã€CA+ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨¼æ˜Žæ›¸ï¼ˆæœ¬ç•ªï¼‰
- **OAuth2/JWT** - ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ã€FastAPIä¾å­˜æ€§æ³¨å…¥
- **å®Ÿè£…**: `backend/security/tls_manager.py`, `backend/security/jwt_auth.py`

#### Phase 1.7: Chaos Engineering
- **Chaos Meshçµ±åˆ** - Podéšœå®³ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶ã€CPU/ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆãƒ¬ã‚¹
- **ã‚·ãƒŠãƒªã‚ª**: ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰éšœå®³ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ–­ã€ãƒªã‚½ãƒ¼ã‚¹æž¯æ¸‡
- **å®Ÿè£…**: `backend/chaos/chaos_manager.py`

#### Phase 1.8: Service Mesh (Istio)
- **mTLSå¼·åˆ¶** - Podé–“é€šä¿¡ã®æš—å·åŒ–
- **ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç®¡ç†** - ãƒªãƒˆãƒ©ã‚¤ã€ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
- **è¦³æ¸¬å¯èƒ½æ€§** - Jaegerãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ã€Prometheusãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **å®Ÿè£…**: `k8s/istio/istio-config.yaml` (237è¡Œã®å®Œå…¨è¨­å®š)

### 5. è¦³æ¸¬å¯èƒ½æ€§

#### Grafana 37ãƒ‘ãƒãƒ«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
```
[CQOx Observability Dashboard]
â”œâ”€â”€ Performance (9 panels)
â”‚   â”œâ”€â”€ Request Rate (queries/sec)
â”‚   â”œâ”€â”€ Response Time (p50, p95, p99)
â”‚   â”œâ”€â”€ Error Rate (4xx, 5xx)
â”‚   â””â”€â”€ Throughput (MB/s)
â”œâ”€â”€ Estimators (7 panels)
â”‚   â”œâ”€â”€ Execution Time by Estimator
â”‚   â”œâ”€â”€ Success/Failure Rate
â”‚   â””â”€â”€ Confidence Interval Width
â”œâ”€â”€ Quality Gates (7 panels)
â”‚   â”œâ”€â”€ ESS > 1000
â”‚   â”œâ”€â”€ Weak IV F-stat > 10
â”‚   â””â”€â”€ Balance SMD < 0.1
â”œâ”€â”€ Data Health (7 panels)
â”‚   â”œâ”€â”€ Missing Value Rate
â”‚   â”œâ”€â”€ Outlier Detection
â”‚   â””â”€â”€ Data Drift Score
â””â”€â”€ Infrastructure (7 panels)
    â”œâ”€â”€ CPU/Memory Usage
    â”œâ”€â”€ PostgreSQL Connections
    â””â”€â”€ Redis Hit Rate
```

#### Lokiçµ±åˆ
```promql
{job="cqox-engine"} |= "error" | json | level="ERROR"
```

### 6. ãƒ—ãƒ­ãƒ“ãƒŠãƒ³ã‚¹/ç›£æŸ»ãƒ­ã‚°

å®Œå…¨ãªå†ç¾å¯èƒ½æ€§ã®ãŸã‚ã€å…¨ã¦ã®å®Ÿè¡Œã‚’è¿½è·¡ï¼š
```json
{
  "provenance_version": "1.0",
  "dataset_id": "edu_rct_2024",
  "job_id": "job_a3f8c2d1",
  "timestamp": "2024-10-29T19:30:45Z",
  "transformations": [
    {
      "type": "categorical_encoding",
      "column": "treatment",
      "method": "binary_control_first",
      "affected_rows": 5420,
      "mapping": {"control": 0, "tutoring": 1}
    }
  ],
  "random_seeds": [
    {"value": 42, "scope": "inference", "library": "numpy+random"}
  ],
  "dictionary_version": "2024.10",
  "mapping_decisions": [
    {
      "role": "y",
      "column": "test_score",
      "confidence": 0.89,
      "reasons": ["auto_detected"],
      "alternatives": ["final_grade", "gpa"]
    }
  ]
}
```

---

## ðŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                      â”‚
â”‚  - Modern UI with 42 figure types                           â”‚
â”‚  - Real-time estimator validation                           â”‚
â”‚  - Interactive 3D visualizations                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     API Gateway (FastAPI)                    â”‚
â”‚  - JWT Authentication                                        â”‚
â”‚  - Rate Limiting                                             â”‚
â”‚  - Request Validation                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Istio Service Mesh                         â”‚
â”‚  - mTLS between all services                                 â”‚
â”‚  - Circuit breaker, Retry logic                              â”‚
â”‚  - Distributed tracing (Jaeger)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Inference Engine                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Sensitivity  â”‚  â”‚  IV 2SLS/GMM â”‚  â”‚ Syn Control  â”‚      â”‚
â”‚  â”‚  Analysis    â”‚  â”‚              â”‚  â”‚              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Causal       â”‚  â”‚  RD Sharp/   â”‚  â”‚  DiD Event   â”‚      â”‚
â”‚  â”‚  Forests     â”‚  â”‚  Fuzzy       â”‚  â”‚  Study       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Transport-   â”‚  â”‚  Proximal    â”‚  â”‚  Network     â”‚      â”‚
â”‚  â”‚  ability     â”‚  â”‚  Causal      â”‚  â”‚  Effects     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ Geographic   â”‚  + Double ML (PLR/IRM)                    â”‚
â”‚  â”‚  (tigramite) â”‚  + PSM, IPW                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Visualization Layer                        â”‚
â”‚  - WolframONE (3D/Animation)                                 â”‚
â”‚  - Matplotlib (Fallback)                                     â”‚
â”‚  - 42 figure types                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Storage & Observability                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ PostgreSQL   â”‚  â”‚  Redis Cache â”‚  â”‚  Prometheus  â”‚      â”‚
â”‚  â”‚ (Results)    â”‚  â”‚              â”‚  â”‚  + Grafana   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Loki (Logs)  â”‚  â”‚  Jaeger      â”‚                        â”‚
â”‚  â”‚              â”‚  â”‚  (Tracing)   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ› ï¸ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å‰ææ¡ä»¶
- Python 3.9+
- Node.js 18+
- Docker & Docker Compose
- WolframONE 14.3+ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€å¯è¦–åŒ–ç”¨)
- Kubernetes 1.28+ (æœ¬ç•ªç’°å¢ƒ)

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://gitlab.com/cqo-final/cqo-final.git
cd cqo-final

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
cd frontend && npm install && cd ..

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èµ·å‹•
docker-compose up -d postgres redis

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
./START.sh

# ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã
open http://localhost:3000
```

### æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# Istioã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd k8s/istio
./install-istio.sh

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
kubectl apply -f k8s/

# ç›£è¦–ã‚¹ã‚¿ãƒƒã‚¯
kubectl apply -f k8s/monitoring/

# Chaos Meshã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
kubectl apply -f k8s/chaos/
```

---

## ðŸ“š ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªå› æžœåˆ†æž

```python
import pandas as pd
from backend.inference.double_ml import DoubleML
from backend.inference.sensitivity_analysis import SensitivityAnalyzer

# ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
df = pd.read_csv("education_rct.csv")

# Double MLæŽ¨å®š
dml = DoubleML()
result = dml.estimate(
    y=df['test_score'],
    treatment=df['tutoring'],
    X=df[['age', 'gender', 'prior_gpa']]
)

print(f"ATE: {result.ate:.3f} Â± {result.se:.3f}")
print(f"95% CI: [{result.ci_lower:.3f}, {result.ci_upper:.3f}]")

# æ„Ÿåº¦åˆ†æž
sens = SensitivityAnalyzer()
evalue_result = sens.analyze("evalue", point_estimate=result.ate, ci_lower=result.ci_lower)
print(f"E-value: {evalue_result.metric_value:.2f} - {evalue_result.interpretation}")
```

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä½¿ç”¨

```bash
# ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
curl -X POST http://localhost:8082/api/upload \
  -F "file=@data.csv" \
  -F "dataset_id=my_study"

# åŒ…æ‹¬çš„åˆ†æžå®Ÿè¡Œ
curl -X POST http://localhost:8081/api/analyze/comprehensive \
  -H "Content-Type: application/json" \
  -d '{
    "dataset_id": "my_study",
    "df_path": "/path/to/data.csv",
    "mapping": {
      "y": "outcome",
      "treatment": "intervention",
      "covariates": ["age", "gender"]
    },
    "auto_select_columns": true
  }'
```

---

## ðŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# å˜ä½“ãƒ†ã‚¹ãƒˆ
pytest tests/unit/ -v

# çµ±åˆãƒ†ã‚¹ãƒˆ
pytest tests/integration/ -v

# E2Eãƒ†ã‚¹ãƒˆ
pytest tests/e2e/ -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
pytest --cov=backend --cov-report=html
```

---

## ðŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: `docs/ARCHITECTURE.md`
- **æŽ¨å®šå™¨ä¸€è¦§**: `docs/ESTIMATORS_ARCHITECTURE.md`
- **ãƒ‰ãƒ¡ã‚¤ãƒ³éšŽå±¤**: `docs/DOMAIN_HIERARCHY.md`
- **API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: `docs/API.md`
- **ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰**: `docs/DEPLOYMENT.md`
- **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: `docs/TROUBLESHOOTING.md`

---

## ðŸŽ“ å­¦è¡“çš„åŸºç¤Ž

CQOxã¯ä»¥ä¸‹ã®æ–‡çŒ®ã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼š

### æŽ¨å®šå™¨
- Chernozhukov et al. (2018) - Double/Debiased ML
- Rosenbaum (2002) - Sensitivity Analysis
- Stock & Yogo (2005) - Weak Instruments
- Abadie et al. (2010) - Synthetic Control
- Athey & Imbens (2016) - Causal Forests
- Imbens & Kalyanaraman (2012) - RD Optimal Bandwidth
- Callaway & Sant'Anna (2021) - DiD with Multiple Periods

### æ–¹æ³•è«–
- Pearl (2009) - Causality
- HernÃ¡n & Robins (2020) - Causal Inference: What If?
- Imbens & Rubin (2015) - Causal Inference for Statistics

---

## ðŸ¤ è²¢çŒ®

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿Žã—ã¾ã™ã€‚å¤§ããªå¤‰æ›´ã®å ´åˆã¯ã€ã¾ãšissueã‚’é–‹ã„ã¦å¤‰æ›´å†…å®¹ã‚’è­°è«–ã—ã¦ãã ã•ã„ã€‚

```bash
# ãƒ•ã‚©ãƒ¼ã‚¯å¾Œ
git checkout -b feature/amazing-feature
git commit -m "Add amazing feature"
git push origin feature/amazing-feature
# ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
```

---

## ðŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

### ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ (M1 Max, 32GB RAM)

| æŽ¨å®šå™¨ | ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚º | å®Ÿè¡Œæ™‚é–“ | ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ |
|--------|--------------|----------|--------------|
| Double ML PLR | 10,000 rows | 1.2s | 150MB |
| Causal Forests | 10,000 rows | 8.5s | 450MB |
| Synthetic Control | 500 units Ã— 100 periods | 3.2s | 200MB |
| RD Sharp | 5,000 rows | 0.8s | 80MB |
| DiD Event Study | 1,000 units Ã— 50 periods | 2.1s | 180MB |

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

- **æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**: Kubernetes HPAå¯¾å¿œ
- **åž‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**: 100ä¸‡è¡Œã¾ã§æ¤œè¨¼æ¸ˆã¿
- **åˆ†æ•£å‡¦ç†**: Daskçµ±åˆï¼ˆäºˆå®šï¼‰

---

## ðŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯[LICENSE](LICENSE)ã‚’å‚ç…§

---

## ðŸ™ è¬è¾ž

- **Anthropic Claude** - AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
- **Wolfram Research** - WolframONEå¯è¦–åŒ–ã‚¨ãƒ³ã‚¸ãƒ³
- **å› æžœæŽ¨è«–ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£** - ç†è«–çš„åŸºç¤Ž

---

## ðŸ“§ é€£çµ¡å…ˆ

- **Issues**: [GitHub Issues](https://github.com/yourusername/cqox/issues)
- **Email**: contact@cqox.org
- **Website**: https://cqox.org

---

**CQOx - å› æžœæŽ¨è«–ã‚’ã€ä¸–ç•Œæœ€é«˜æ°´æº–ã§ã€‚**

*Built with â¤ï¸ using Claude Code*
